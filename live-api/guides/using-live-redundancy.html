
---
title: '라이브 중복 사용'
description: '중복 그룹을 사용하면 중단 없이 안정적인 재생을 위해 자동 장애 조치를 통해 2개 이상의 라이브 작업을 단일 스트림으로 결합할 수 있습니다. 이 안내서에서는 중복 그룹 생성, 작업 추가 및 라이브 API를 사용하여 장애 조치 강제 수행을 안내합니다.'
parent: Guides 
grandparent: Live API
---
 <h1>이 페이지가 이동했습니다. 3초 안에<a href="https://apis.support.brightcove.com/live-api/guides/using-live-redundancy.html">새 위치로</a>이동됩니다. 북마크를 업데이트하십시오!</h1>
<script type="text/javascript">
var t = 설정 시간 초과 (함수 () { window.location.href = 'https://apis.support.brightcove.com/live-api/guides/using-live-redundancy.html'; } , 3000);
</script>
<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">소개</h2>
    
    <p>Brightcove Live의 중복 기능은 첫 번째 스트림이 작동을 멈춘 경우 Live가 자동으로 장애 조치되는 백업 스트림을 생성하여 라이브 이벤트의 안정적인 성능을 보장하는 데 도움이됩니다.</p>
    
    <p>Live API에 대한 모든 요청에는 다음 헤더가 필요합니다.</p>
    
    <table class="bcls-table">
      <caption class="bcls-caption--table">API 요청 헤더</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>키</th>
          <th>값</th>
          <th>메모</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">X-API-KEY</code></td>
          <td>{your API Key}</td>
          <td>Brightcove Live 계정을 열 때 키를 제공해야합니다.</td>
        </tr>
        <tr>
          <td><code translate="No">Content-Type</code></td>
          <td>응용 프로그램 / json</td>
          <td>기술적으로<code translate="No">content-type</code>헤더는 요청 본문을 포함하는 쓰기 요청에만 필요하지만 읽기 요청에는 해를 끼치 지 않습니다.</td>
        </tr>
      </tbody>
    </table>
    </section>
    
    <section class="bcls-section">
    <h2 id="Create_your_Live_jobs">라이브 작업 생성</h2>
    
    <p>중복 설정의 경우 2 개 이상의 Brightcove 라이브 작업을 생성해야합니다. Job의 유일한 요구 사항은<strong>동일한</strong><code translate="No">output</code>설정으로 작성된다는 것입니다. 이 작업을 수행하는 가장 쉬운 방법은 원하는 출력 사양으로 하나의 작업을 만든 다음<code translate="No">copy_outputs_from_job</code>매개 변수를 사용하여 추가 작업을 만드는 것입니다.</p>
    
    <p>이러한 일자리를 창출 할 수있는 지역에는 제한이 없지만 상대적으로 가까운 곳에 위치하는 것이 좋습니다.</p>
    
    <p>라이브 작업이 생성 된 후 나중에 작업 ID를 유지합니다. 이러한 작업을 중복 그룹 (아래 섹션 참조)에 추가하는 데 사용할 요청 본문은 다음과 같습니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">[
      {
        "job_id": "0b76bc73f92f46dc917bbe5061c0c633"
      },
      {
        "job_id": "0ae5a4a71dc54b3181af0f98ee407c27"
      }
    ]</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Create_the_redundant_group">중복 그룹 만들기</h2>
    
    <p>중복 그룹을 생성하려면 다음과 같은<code translate="No">POST</code>요청을 제출해야 합니다.</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups</code></pre>
    
    <p>다음은 샘플 요청 본문입니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "ad_insertion": true,
      "processing_regions": ["us-west-2"],
      "storage_regions": ["us-west-2", "us-east-1"],
      "label": "Test RG",
      "live_dvr_sliding_window_duration": 1800
    }</code></pre>
    
    <p>아래 표에는 요청 본문에 대한 전체 필드 목록이 포함되어 있습니다. 여러 경우에 이것은 라이브 작업을 만드는 데 사용되는 필드와 동일합니다. 참조<a href="/live-api/references/reference.html">라이브 API 참조</a>필드에 대한 자세한 내용은</p>
    
    <table class="bcls-table">
      <caption class="bcls-caption--table">중복 그룹 필드 만들기</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>들</th>
          <th>유형</th>
          <th>필수?</th>
          <th>기술</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">ad_insertion</code></td>
          <td>부울</td>
          <td>선택 과목</td>
          <td>이 스트림이 SSAI를 활성화해야하는 경우 true로 설정합니다.</td>
        </tr>
        <tr>
          <td><code translate="No">add_cdns</code></td>
          <td>정렬</td>
          <td>선택 과목</td>
          <td>매니페스트 생성에 사용할 추가 CDN 공급자의 배열입니다. 제공된 각 CDN에 대해 매니페스트가 그에 따라 앞에 추가됩니다.</td>
        </tr>
        <tr>
          <td><code translate="No">drm</code></td>
          <td>목적</td>
          <td>선택 과목</td>
          <td>아직 지원되지 않음</td>
        </tr>
        <tr>
          <td><code translate="No">encryption</code></td>
          <td>목적</td>
          <td>선택 과목</td>
          <td>아직 지원되지 않음</td>
        </tr>
        <tr>
          <td><code translate="No">label</code></td>
          <td>끈</td>
          <td>필수</td>
          <td>그룹을 식별하는 레이블</td>
        </tr>
        <tr>
          <td><code translate="No">live_dvr_sliding_window_duration</code></td>
          <td>정수</td>
          <td>선택 과목</td>
          <td></td>
        </tr>
        <tr>
          <td><code translate="No">notifications</code></td>
          <td>정렬</td>
          <td>선택 과목</td>
          <td>알림 대상 객체 또는 문자열의 배열</td>
        </tr>
        <tr>
          <td><code translate="No">processing_regions</code></td>
          <td>정렬</td>
          <td>필수</td>
          <td>중복 그룹에 대한 처리 영역입니다. 이렇게하면 매니페스트를 생성 할 AWS 리전이 결정됩니다. 이는 storage_regions 및 라이브 작업이 생성 된 지역과 일치하는 것이 좋습니다.</td>
        </tr>
        <tr>
          <td><code translate="No">storage_regions</code></td>
          <td>정렬</td>
          <td>필수</td>
          <td>스토리지 영역 미디어 청크 및 재생 목록은 S3에 업로드됩니다. 이는 processing_regions 및 라이브 작업이 생성되는 지역과 일치하는 것이 좋습니다.</td>
        </tr>
        <tr>
          <td><code translate="No">videocloud</code></td>
          <td>목적</td>
          <td>선택 과목</td>
          <td>Video Cloud 고객은 라이브 스트림에 사용할 비디오를 만들 수 있습니다.</td>
        </tr>
      </tbody>
    </table>
    
    <p>응답은 다음과 같습니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "id": "481ff4cf0bf74956bc2ec6e126588080",
      "processing_regions": [
          {
              "region": "us-west-2",
              "probability": 1
          }
      ],
      "storage_regions": [
          "us-west-2",
          "us-east-1"
      ],
      "jobs": [],
      "state": "standby",
      "label": "Test RG",
      "live_dvr_sliding_window_duration": 1800,
      "status": {
          "us-west-2": null
      },
      "ad_insertion": true,
      "outputs": {
          "playback_url": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/playlist.m3u8",
          "playback_url_dvr": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/playlist_dvr.m3u8",
          "ssai_playback_urls": {
              "26f8470f61374e608e27af9c1b3f7ff0": {
                  "playback_url": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/26f8470f61374e608e27af9c1b3f7ff0/playlist_ssaiM.m3u8",
                  "playback_url_dvr": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/26f8470f61374e608e27af9c1b3f7ff0/playlist_dvr_ssaiM.m3u8",
                  "description": "House Ads - 864b84f712ae40bca1510a8052b34312",
                  "type": "ads"
              }
      }
    }</code></pre>
    </section>
    <section class="bcls-section">
      <h2 id="get_redundant_group">중복 그룹 가져 오기</h2>
      <p>다음과 같은<code translate="No">GET</code>요청을 제출하여 모든 중복 그룹을 가져올 수 있습니다.</p>
      <pre><code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups</code></pre>
      <p>다음을 사용하여 응답을 필터링 할 수 있습니다. <code translate="No">state</code> param. 허용되는 값은 다음과 같습니다.</p>
      <ul>
        <li><code translate="No">cancelled</code></li>
        <li><code translate="No">cancelling</code></li>
        <li><code translate="No">deleting</code></li>
        <li><code translate="No">disconnected</code></li>
        <li><code translate="No">failed</code></li>
        <li><code translate="No">finished</code></li>
        <li><code translate="No">finishing</code></li>
        <li><code translate="No">processing</code></li>
        <li><code translate="No">standby</code></li>
        <li><code translate="No">waiting</code></li>
      </ul>
      <p>최대 1000의 정수로 설정할 수 있는<code translate="No">page_size</code>파라미터도 있습니다. 기본값은<code translate="No">page_size</code> 10입니다.</p>
      <p>응답은 다음과 같습니다.</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "redundant_groups": [
    {
      "id": "91c268a6ec5240d79a6004f4ccf0dc6f",
      "account_id": "a95ac581551b4478b27910e5675db1f8",
      "user_id": "c2691d4d039040be96c190a949d754a7",
      "processing_regions": [
        {
          "region": "us-west-2",
          "probability": 1
        }
      ],
      "storage_regions": [
        "us-west-2",
        "us-east-1"
      ],
      "jobs": [],
      "state": "standby",
      "created_at": 1594316624287,
      "updated_at": 1594316624287,
      "label": "Test Redundant Group",
      "live_dvr_sliding_window_duration": 86400,
      "status": {
        "us-west-2": null
      },
      "outputs": {
        "playback_url": "https://bcovlive-a.akamaihd.net/r91c268a6ec5240d79a6004f4ccf0dc6f/us-west-2/NA/playlist.m3u8",
        "playback_url_dvr": "https://bcovlive-a.akamaihd.net/r91c268a6ec5240d79a6004f4ccf0dc6f/us-west-2/NA/playlist_dvr.m3u8"
      }
    },
    {
      "id": "279ac36e4b4d48a3abbd3e1f98cd57aa",
      "account_id": "a95ac581551b4478b27910e5675db1f8",
      "user_id": "c2691d4d039040be96c190a949d754a7",
      "processing_regions": [
        {
          "region": "us-west-2",
          "probability": 1
        }
      ],
      "storage_regions": [
        "us-west-2",
        "us-east-1"
      ],
      "jobs": [],
      "state": "standby",
      "created_at": 1594323207015,
      "updated_at": 1594323207015,
      "label": "Test Redundant Group2",
      "live_dvr_sliding_window_duration": 86400,
      "status": {
        "us-west-2": null
      },
      "outputs": {
        "playback_url": "https://bcovlive-a.akamaihd.net/r279ac36e4b4d48a3abbd3e1f98cd57aa/us-west-2/NA/playlist.m3u8",
        "playback_url_dvr": "https://bcovlive-a.akamaihd.net/r279ac36e4b4d48a3abbd3e1f98cd57aa/us-west-2/NA/playlist_dvr.m3u8"
      }
    }
  ]
}</code></pre>
    </section>
    <section class="bcls-section">
    <h2 id="Add_live_jobs_to_the_redundant_group">중복 그룹에 라이브 작업 추가</h2>
    
    <p>중복 그룹을 생성한 후 다음 주소로<code translate="No">POST</code>요청을 보내서 작업을 추가할 수 있습니다.</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}/jobs</code></pre>
    
    <p>라이브 작업 ID는 다음과 같이 요청 본문에 지정됩니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">[
      {
        "job_id": "0b76bc73f92f46dc917bbe5061c0c633"
      },
      {
        "job_id": "0ae5a4a71dc54b3181af0f98ee407c27"
      }
    ]</code></pre>
    
    <p>작업 개체에 대한 몇 가지 추가 선택적 속성이 있습니다. 다음 표는 모든 필드를 보여줍니다.</p>
    
    <table class="bcls-table">
      <caption class="bcls-caption--table">라이브 작업 요청 필드 추가</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>들</th>
          <th>유형</th>
          <th>필수?</th>
          <th>기술</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">job_id</code></td>
          <td>끈</td>
          <td>필수</td>
          <td>그룹에 추가 할 작업의 ID입니다. <code translate="No">playlist</code>또는<code translate="No">streams</code>지정되지 않은 경우 모두<code translate="No">outputs</code>사용됩니다.</td>
        </tr>
        <tr>
          <td><code translate="No">playlist</code></td>
          <td>끈</td>
          <td>선택 과목</td>
          <td>스트림의 출력으로 사용할 재생 목록의 레이블입니다. <code translate="No">playlist</code>가 정의된<code translate="No">streams</code><strong></strong>경우 <em>찾으시는 주소가 없습니다</em>.</td>
        </tr>
        <tr>
          <td><code translate="No">streams</code></td>
          <td>정렬</td>
          <td>선택 과목</td>
          <td>스트림의 출력으로 사용할 스트림 레이블 목록입니다. <code translate="No">streams</code>가 정의된<code translate="No">playlist</code><strong></strong>경우 <em>찾으시는 주소가 없습니다</em>.</td>
        </tr>
      </tbody>
    </table>
    
    <p>이 요청에 대한 성공 응답은 중복 그룹 ID 만 반환합니다.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Get_Redundant_Group_Status">중복 그룹 상태 가져 오기</h2>
    
    <p>다음과 같은<code translate="No">GET</code>요청을 제출하여 중복 그룹의 상태를 확인할 수 있습니다.</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}</code></pre>
    
    <p>응답은 다음과 같습니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "id": "481ff4cf0bf74956bc2ec6e126588080",
      "processing_regions": [
          {
              "region": "us-west-2",
              "probability": 1
          }
      ],
      "storage_regions": [
          "us-west-2",
          "us-east-1"
      ],
      "jobs": [
          {
              "job_id": "0b76bc73f92f46dc917bbe5061c0c633",
              "streams": [
                  "hls720p",
                  "hls540p",
                  "hls360p"
              ],
              "state": "processing"
          },
          {
              "job_id": "0ae5a4a71dc54b3181af0f98ee407c27",
              "streams": [
                  "hls720p",
                  "hls540p",
                  "hls360p"
              ],
              "state": "processing"
          }
      ],
      "state": "processing",
      "created_at": 1568057414849,
      "updated_at": 1568059153017,
      "label": "Test RG",
      "live_dvr_sliding_window_duration": 1800,
      "status": {
          "us-west-2": {
              "SwitchDrift": 0,
              "Ended": false,
              "OnAir": "0b76bc73f92f46dc917bbe5061c0c633",
              "Mode": "auto",
              "InManifest": true,
              "MediaSequence": 10,
              "Healthiness": 0,
              "Duration": 4,
              "DiscontinuitySequence": 1,
              "SourceChunk": {
                  "MediaSequence": 3639,
                  "Duration": 4,
                  "DiscontinuitySequence": 0,
                  "ProgramDateTime": "2019-09-09T19:59:36Z",
                  "LiveJobID": "0b76bc73f92f46dc917bbe5061c0c633"
              },
              "UpdatedAt": "2019-09-09T19:59:46Z",
              "ProgramDateTime": "2019-09-09T19:59:36Z"
          }
      },
      "ad_insertion": true,
      "outputs": {
          "playback_url": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/playlist.m3u8",
          "playback_url_dvr": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/playlist_dvr.m3u8",
          "ssai_playback_urls": {
              "26f8470f61374e608e27af9c1b3f7ff0": {
                  "playback_url": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/26f8470f61374e608e27af9c1b3f7ff0/playlist_ssaiM.m3u8",
                  "playback_url_dvr": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/26f8470f61374e608e27af9c1b3f7ff0/playlist_dvr_ssaiM.m3u8",
                  "description": "House Ads - 864b84f712ae40bca1510a8052b34312",
                  "type": "ads"
              }
          }
      }
    }</code></pre>
    
    <p>중복 그룹의 각 처리 영역에는 영역별로 키가 지정된 자체<code translate="No">status</code>객체가 있습니다. 이 예에서는<code translate="No">us_west_2</code>처리 영역에서<code translate="No">on_air</code>작업이 다음과 같다는 것을 알 수 있습니다. <code translate="No">0b76bc73f92f46dc917bbe5061c0c633</code> .</p>
    
    <p>참고로, 처리<code translate="No">probability</code>영역과 관련된 것은<code translate="No">1</code>이 시점에서 항상 존재하지만 향후 데이터 모델에 포함됩니다.해당 지역을 사용할 재생 트래픽의 대략적인 백분율을 나타내는 0에서 1 사이의 확률이 있는 여러 처리 영역을 허용하는 향상된 기능입니다.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="add_cuepoints">수동으로 큐 포인트 추가</h2>
    
    <p>중복성을 사용하여 라이브 스트림에 큐 포인트를 수동으로 추가하는 것은 일반 라이브 스트림에 큐 포인트를 추가하는 것과 매우 유사합니다. 중복 그룹에 대해 이렇게 하려면 다음을<code translate="No">POST</code>요청하십시오.</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}/cuepoint</code></pre>
    
    <p>다음과 같은 요청 본문을 포함합니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "ad_server_data": {
        "subject": "wildlife"
      },
      "duration": 30,
      "timecode": "09:23:18:05"
    }</code></pre>
    
    <p><code translate="No">timecode</code>필드를 생략하면 큐 포인트가 즉시 삽입됩니다.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Force_a_Job_failover">작업 장애 조치 강제</h2>
    
    <p>장애 조치는 Brightcove Live 시스템에 의해 자동으로 관리되며 사용자 개입이 필요하지 않습니다. 그러나 어떤 이유로 다른 작업으로 페일오버를 강제로 수행하려는 경우 가장 간단한 방법은 단순히<code translate="No">on_air</code>작업의 인코더를 중지하는 것입니다.</p>
    
    <p>API를 사용하여 다음을<code translate="No">PUT</code>요청하여 장애 조치를 강제로 수행할 수도 있습니다.</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}/switch</code></pre>
    
    <p>요청 본문은 다음과 같습니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "mode": "manual",
      "on_air": "0ae5a4a71dc54b3181af0f98ee407c27"
    }</code></pre>
    
    <p>여기서<code translate="No">mode</code>는<code translate="No">manual</code>또는<code translate="No">auto</code> (기본값) 이며<code translate="No">on_air</code>는<strong>보조</strong>작업 ID 중 하나의 값을 갖습니다.</p>
    
    <p>참고: 일단<code translate="No">manual</code>모드에서 자동 작업 장애 조치는<strong> ~ 아니다</strong>발생하다. 너<strong> ~해야하다</strong>모드를 다시 설정<code translate="No">auto</code>자동 장애 조치가 재개됩니다. 본문에서 모드를 생략하고 요청에 강제 쿼리 매개 변수를 추가하여 수동으로 전환하지 않고도 On-Air <code translate="No">?force=true</code> Job을 변경할 수 있습니다. 이렇게하면 서비스가 작업을 강제로 전환하지만 문제가 감지되면 언제든지 다시 전환 할 수 있습니다.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Ending_a_redundant_stream">중복 스트림 종료</h2>
    
    <p>중복 스트림을 종료하는 방법에는 두 가지가 있습니다. 의도적으로 중복 그룹은 암시적으로<a href="/live-api/guides/live-api-static-entry-points.html"> SEP</a>스트림입니다. 중복 그룹에서 모든 작업을 제거하여 중복 그룹을<code translate="No">STANDBY</code>모드로 전환할 수 있습니다.</p>
    
    <p><code translate="No">DELETE</code>요청을 사용하여 이렇게 하려면 다음을 수행합니다.</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}/jobs/{job_id}</code></pre>
    
    <p>제거하려는 각 작업에 대해. 현재<code translate="No">on_air</code>있는 작업을 제거하려면<code translate="No">?force-true</code> query 매개 변수를 추가해야 합니다.</p>
    
    <p>스트림을 종료하는 두 번째 방법은 다음 주소로<code translate="No">DELETE</code>요청을 전송하여 중복 그룹을 완전히 삭제하는 것입니다.</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}</code></pre>
    </section>
    <section class="bcls-section">
      <h2 id="limitations">한계</h2>
      <ul>
        <li>DRM 보호 라이브 스트림에서는 라이브 중복성을 사용할<strong></strong>수 없습니다.</li>
      </ul>
    </section>
        </article>
    
 