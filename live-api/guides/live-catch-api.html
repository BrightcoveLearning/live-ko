
---
title: 라이브 캐치업 API
description:이 주제에서는 라이브 캐치업 API(TimeShift)를 사용하여 캐치업이 포함된 라이브 작업을 생성하는 방법에 대해 설명합니다.
parent: Guides 
grandparent: Live API
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">소개</h2>
    <p>Live Catch-up API는 라이브 스트림의 시작 또는 일부에 대한 재생 기능을 제공하는 Live API에 추가되어 늦은 시청자가 "추적"할 수 있도록합니다.</p>
    <p>캐치업 기능은 라이브 작업을 만들 때 사용되는 새<code translate="No">timeshift</code>개체 필드를 통해 라이브 작업에 추가됩니다. <code translate="No">timeshift</code>객체 필드에 대한 자세한 내용은 아래 섹션에 자세히 설명되어 있습니다.</p>
  </section>
  <section class="bcls-section">
    <h2 id="timeshift_fields">TimeShift 필드</h2>
    <p><code translate="No">timeshift</code>객체는 라이브 작업 요청 생성을 위한 요청 본문의 최상위 객체입니다. 아래 표는이 개체에 대한 필드를 자세히 설명합니다.</p>
    <table class="bcls-table">
      <caption class="bcls-caption--table"><code translate="No">timeshift</code>필드</caption>
      <thead class="bcls-table__head">
          <tr>
              <th>들</th>
              <th>기술</th>
          </tr>
      </thead>
      <tbody class="bcls-table__body">
          <tr>
              <td><code translate="No">startover_duration</code></td>
              <td>
                시작 기간의 크기 (초), 최대 604800 (7 일).
                <p>요청에 를 지정하면<code translate="No">timeshift.startover_duration</code>각 재생 목록에 대해 시간 이동 가능 재생 URL이 생성됩니다. 이러한 URL은 라이브 에지 재생을 지원합니다 ( <code translate="No">live_duration</code>매개 변수에 지정된 DVR 크기).</p>
                <p>또한 매개 변수를 추가하여 startover_duration에 정의 된 기간 내 임의 부분의 재생을 지원합니다.</p>
                <ul style="padding: 0;margin-left: 1rem;">
                  <li><code translate="No">start=ts</code> -재생 시작의 유닉스 epoch 타임 스탬프</li>
                  <li><code translate="No">end=ts</code> -재생 종료의 유닉스 에포크 타임 스탬프</li>
                </ul>
              </td>
          </tr>
          <tr>
              <td><code translate="No">live_duration</code></td>
              <td>라이브 창 크기 (초) 최대 300. 기본값은 4 x 세그먼트 기간입니다.</td>
          </tr>
          <tr>
              <td><code translate="No">live_delay</code></td>
              <td>라이브 출력을 지연하는 시간 (초)입니다. 최소 및 기본값은 5 초입니다.</td>
          </tr>
          <tr>
              <td><code translate="No">type</code></td>
              <td>
                <ul style="padding: 0;margin-left: 1rem;">
                  <li>single-독립형 시간 이동 작업용 (기본값)</li>
                  <li>기본 - 기본 시간 교대 작업의 경우 ( <a href="/live-api/guides/live-api-static-entry-points.html">SEP 작업이어야</a>함)</li>
                  <li>백업-백업 시간 이동 작업용</li>
                </ul>
              </td>
          </tr>
          <tr>
              <td><code translate="No">primary_job_id</code></td>
              <td>기본 시간 이동 작업 ID를 참조합니다 (유형이 백업 인 경우 필수).</td>
          </tr>
          <tr>
              <td><code translate="No">skip_live_output</code></td>
              <td>일반 라이브 또는 DVR 재생 목록을 생성하지 마십시오 (기본값은 false).</td>
          </tr>
      </tbody>
  </table>
  <h3>메모</h3>
  <ul>
    <li>timeshift.type이 “백업”인 경우 시간 전환 URL은 API 응답에 포함되지 않습니다. 기본 작업에 대해보고 된 타임 시프트 URL을 사용합니다.</li>
    <li>시간 이동 출력에 DRM이 필요한 경우 평소와 같이 작업 요청에<code translate="No">drm</code>필드를 포함합니다. 이 속성은 시간 이동 출력을 보호하기 위해 기본 작업에 대해서만 지정되어야합니다. 그러나 보호되지 않은 재생을 방지하려면 모든 백업 작업에 대해 skip_live_output을 true로 설정하는 것이 좋습니다.</li>
    <li>클리핑은 지난 24 시간으로 제한되며 실시간 중복과 마찬가지로 선택한 작업의 입력 만 포함됩니다.</li>
  </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Sample_request_body">견본</h2>
    <h3>요청 본문</h3>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "live_stream": true,
  "region": "us-west-2",
  "reconnect_time": 300,
  "ad_insertion": false,
  "static": false,
  <span class="bcls-highlight">"timeshift": {
    "startover_duration": 36000,
    "type": "single",
    "live_delay": 20,
    "skip_live_output": true
  },</span>
  "drm":{"modes":["fairplay","widevine:dash","playready"]},
  "outputs": [...]
}</code></pre>
    <details>
      <summary><h2>샘플 응답 (일부)</h2></summary>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "id": "e948ae380893403eb33bb99ef48f96ca",
  "outputs": [
    {
      "id": "2-e948ae380893403eb33bb99ef48f96ca",
      "playlist_type": "defaultS3",
      "type": "playlist",
      "drm": {
        "token": "eyJhb...",
        "modes": [
            {
              "type": "fairplay",
              "key_system": "com.apple.fps.1_0",
              "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/fp?token=eyJhb…",
              "certificate_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/cert/fp?token=eyJhb...",
              "filename": "playlist_fp.m3u8",
              "dvr_filename": "playlist_fp_dvr.m3u8",
              "playback_url": "https://playback-qa.a-live.io/e948ae380893403eb33bb99ef48f96ca/us-west-2/NA/playlist_fp.m3u8",
              "playback_url_dvr": "https://playback-qa.a-live.io/e948ae380893403eb33bb99ef48f96ca/us-west-2/NA/playlist_fp_dvr.m3u8",
              <span class="bcls-highlight">"timeshift_url": "https://timeshift.bcovlive-dev.com/e948ae380893403eb33bb99ef48f96ca/us-west-2/NA/8343f7014c0ea438/88575623f08e4befbc5892ed09b2042e/playlist_ts.m3u8",</span>
              "playback_added_cdns": []
            },
            {
              "type": "widevine",
              "key_system": "com.widevine.alpha",
              "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/wv?token=eyJhb...",
              "filename": "playlist.mpd",
              "dvr_filename": "playlist_dvr.mpd",
              "playback_url": "https://playback-qa.a-live.io/e948ae380893403eb33bb99ef48f96ca/us-west-2/NA/playlist.mpd",
              "playback_url_dvr": "https://playback-qa.a-live.io/e948ae380893403eb33bb99ef48f96ca/us-west-2/NA/playlist_dvr.mpd",
              <span class="bcls-highlight">"timeshift_url": "https://timeshift.bcovlive-dev.com/e948ae380893403eb33bb99ef48f96ca/us-west-2/NA/8343f7014c0ea438/324e208d72ef47f78e78f430d007a97e/playlist_ts.mpd",</span>
              "playback_added_cdns": []
            },
            {
              "type": "playready",
              "key_system": "com.microsoft.playready",
              "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/pr?token=eyJhb...",
              "filename": "playlist.mpd",
              "dvr_filename": "playlist_dvr.mpd",
              "playback_url": "https://playback-qa.a-live.io/e948ae380893403eb33bb99ef48f96ca/us-west-2/NA/playlist.mpd",
              "playback_url_dvr": "https://playback-qa.a-live.io/e948ae380893403eb33bb99ef48f96ca/us-west-2/NA/playlist_dvr.mpd",
              <span class="bcls-highlight">"timeshift_url": "https://timeshift.bcovlive-dev.com/e948ae380893403eb33bb99ef48f96ca/us-west-2/NA/8343f7014c0ea438/324e208d72ef47f78e78f430d007a97e/playlist_ts.mpd",</span>
              "playback_added_cdns": []
            }
          ],
          "token_expires_in": 43200,
          "require_playback_token": false
      }
    }
  ],
} </code></pre>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="Getting_job_info">직업 세부 정보 얻기</h2>
    <p>작업 목록을 요청하든 특정 작업에 대한 세부 정보를 요청하든 타임시프트 사용 작업의 모든 재생 목록에 포함됩니다. <code translate="No">timeshift_url</code> 호출자는이 URL에 매개 변수를 추가하여 시작 및 중지 시간을 Unix Epoch 타임 스탬프로 지정할 수 있습니다. 예를 들면 다음과 같습니다.</p>
<pre><code class="language-http" translate="No">https://bcovlive-a.akamaihd.net/8d64308aafe34d17adb98af69e9eac13/us-east-1/6021289116001/ts-cf98fa7b2ee4450e-5df3aae6cb724fe1a4a932b4964d3e17/playlist_ts.m3u8?start=1593457200&end=1593460800</code></pre>
    <p><code translate="No">start</code>및<code translate="No">end</code>매개 변수가 포함되어 있지 않으면 재생이 라이브 엣지에 있습니다.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Create_Playback_Token">재생 토큰 생성</h2>
    <p>Get Job Sources API에서 타임 시프트 URL을 반환 할 수 있도록 재생 토큰에 새 필드가 추가되었습니다. 현재 SSAI는 시간 이동이 활성화된 작업에는 지원되지 않으므로<code translate="No">application_id</code>속성을 지정하지 않아야 합니다.</p>
    <p><code translate="No">ts_start</code>및<code translate="No">ts_end</code>를 지정하면 이전 섹션에서 설명한 대로 쿼리 매개 변수로 재생 URL에 추가됩니다.</p>
    <h3>새로운 분야</h3>
    <table class="bcls-table">
      <caption class="bcls-caption--table">새로운 재생 토큰 필드</caption>
      <thead class="bcls-table__head">
          <tr>
              <th>들</th>
              <th>기술</th>
          </tr>
      </thead>
      <tbody class="bcls-table__body">
          <tr>
              <td><code translate="No">ts</code></td>
              <td>시간 이동 재생 URL 선택 (true | false, 선택 사항, 기본값은 false)</td>
          </tr>
          <tr>
              <td><code translate="No">ts_start</code></td>
              <td>시작 창 시작을위한 Unix epoch 타임 스탬프 (숫자, 선택 사항)</td>
          </tr>
          <tr>
              <td><code translate="No">ts_end</code></td>
              <td>시작 기간 종료에 대한 Unix epoch 타임 스탬프 (숫자, 선택 사항)</td>
          </tr>
      </tbody>
  </table>
  </section>
</article>