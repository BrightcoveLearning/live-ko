
---
title: '라이브 API 샘플: 라이브 작업 만들기'
parent: Code Samples 
grandparent: Live API
---
 <h1>이 페이지가 이동했습니다. 3초 안에<a href="https://apis.support.brightcove.com/live-api/code-samples/live-api-sample-create-live-job.html">새 위치로</a>이동됩니다. 북마크를 업데이트하십시오!</h1>
<script type="text/javascript">
var t = 설정 시간 초과 (함수 () { window.location.href = 'https://apis.support.brightcove.com/live-api/code-samples/live-api-sample-create-live-job.html'; } , 3000);
</script>
<article class="bcls-article">
  <h1>라이브 API 샘플: 라이브 작업 생성</h1>
  <summary>이 샘플에서는 간단한 라이브 작업을 만드는 방법을 배웁니다.</summary>


<section class="bcls-section">
<h2 id="Introduction">소개</h2>

<p>이 샘플은 세 가지 출력 변환이있는 간단한 라이브 작업을 만듭니다. 1080p, 720p 및 480p.</p>

<p><span translate="No">라이브</span> API는 CORS가 활성화되어 있지 않으며 서버 측 앱에서 액세스해야 하므로 API 요청은 PHP로 작성된 간단한 프록시를 통해 전송됩니다. 이를 서버 측 언어로 재현 할 수 있습니다. 자바 스크립트에서 보낸 요청 매개 변수를 수집하고 API에 요청을 보낸 다음 자바 스크립트에 응답을 반환하기 만하면됩니다. 모든 코드는 아래<a href="#code">코드 섹션에서 찾을 수</a>있습니다.</p>
</section>

<section class="bcls-section">
<h2 id="create_live_job_app">라이브 작업 앱 만들기</h2>
이<a href="https://github.com/BrightcoveLearning/18519-live-api-sample-create-live-job"> GitHub 저장소에서 이 샘플과 관련된 모든 코드를 찾습니다</a> .

<p data-height="1400" data-theme-id="dark" data-slug-hash="ZoYoVY" data-default-tab="result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="Live API Sample: Create a Live Job" class="codepen">펜<a href="https://codepen.io/team/rcrooks1969/pen/ZoYoVY/">라이브 API 샘플을 참조하십시오. 라이브 작업 만들기</a> Brightcove 학습 서비스 제공( <a href="https://codepen.io/rcrooks1969"> @rkooks1969</a> ) 에<a href="https://codepen.io">코드펜</a> .</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script></section>

<section class="bcls-section">
<h2 id="Using_the_CodePen" class="bcls-expander-head">CodePen 사용</h2>

<div class="bcls-expander-content">
<p>위의 CodePen을 효과적으로 사용하기위한 몇 가지 팁은 다음과 같습니다.</p>

<ul>
	<li><strong>결과</strong>버튼을 클릭하여 플레이어의 실제 표시를 토글합니다.</li>
	<li><strong>HTML/CSS/JS</strong>버튼을 클릭하여 코드 유형 중 하나를 표시합니다.</li>
	<li>딸깍 하는 소리<strong> CodePen에서 편집</strong>이 CodePen을 자신의 계정으로 포크하려면 오른쪽 상단 모서리에 있습니다.</li>
	<li>이<a href="https://github.com/BrightcoveLearning/18519-live-api-sample-create-live-job"> GitHub 저장소에서 이 샘플과 관련된 모든 코드를 찾습니다</a> .</li>
</ul>
</div>
</section>

<section class="bcls-section">
<h2 id="code">프록시 코드</h2>

<p>CodePen (및 관련 GitHub 리포지토리)에있는 코드 외에도이 샘플에는 API 요청을 수행하고 앱에 응답을 반환하는 프록시가 필요합니다. 이 앱에서는 PHP를 사용했으며 코드는 아래와 같습니다. 서버 측 언어를 사용하여 프록시를 구축 할 수 있습니다.</p>

<pre class="line-numbers">
<code class="language-php"> &lt;  ?php /** * live-proxy.php - 브라이트코브 라이브 API*용 프록시는 요청을 하고 응답을 반환합니다. * 액세스: * (HTTPS를 통해 프록시에 항상 액세스해야 함) * 메서드: POST * * @post {string} url - API 요청에 대한 URL* @post {string} [요청 유형=GET] - 요청에 대한 HTTP 메소드* @post {string} [요청 본문] - 쓰기 요청과 함께 보낼 JSON 데이터* {string} APIKey - 라이브 @postAPI 키* * @returns {string} $ 응답 - API*///CORS 활성화 및 기타 헤더 헤더에서 수신 된 JSON 응답 (“액세스 제어 허용 출처: *”); 헤더 (“콘텐츠 유형: 응용 프로그램/json”); 헤더 (“X-콘텐츠 유형-옵션: nosniff”); 헤더 (“X-XSS-보호”); $ 요청 데이터 = json_디코드 (파일_get_콘텐츠 ('PHP: //입력'));//API 호출 설정//API 키 가져 오기 $ apikey = $ 요청 데이터-&gt;APIKey;//GET 요청 유형 또는 기본 GET 경우 ($ 요청 데이터&gt; 요청 유형) { $method = $requestData-&gt;requestType; }다른{ $method = "GET"; } //더보안 검사 $ 바늘 = '.io'; $ endapi = strpos ($ 요청 데이터&gt; URL, $ 바늘) + 3; $ 다음 문자 = SUBSTR ($ 요청 데이터&gt; URL, $ 엔드 API, 1); 만약 (strpos ($ 요청 데이터&gt; URL, 'api.bcovlive.io') == 거짓) { exit('{"ERROR":"Only requests to Brightcove Live APIs are accepted by this proxy"} ');} 그렇지 않으면 ($ 다음 문자!== '/'  &amp;&amp; $다음 문자!== '?') { exit('{"ERROR": "There was a problem with your API request - please check the URL"} ');}//양식 데이터에서 URL 및 권한 부여 정보를 가져옵니다. $ 요청 = $ 요청 데이터 &gt; URL; //HTTP 요청을 보냅니다 ($ 요청 데이터&gt; 요청 본문) { $ch = curl_init($request); curl_setopt_array($ch, array( CURLOPT_CUSTOMREQUEST =&gt; $method, CURLOPT_RETURNTRANSFER =&gt; TRUE, CURLOPT_SSL_VERIFYPEER =&gt; FALSE, CURLOPT_HTTPHEADER =&gt; array( 'Content-type: application/json', "X-API-KEY: {$apikey}“,), CURLOPT_POSTFIELDS =&gt; $ 요청 데이터&gt; 요청 본문); $ 응답 = curl_exec($ 채널); curl_close ($ 채널);} 다른{ $ch = curl_init($request); curl_setopt_array($ch, array( CURLOPT_CUSTOMREQUEST =&gt; $method, CURLOPT_RETURNTRANSFER =&gt; TRUE, CURLOPT_SSL_VERIFYPEER =&gt; FALSE, CURLOPT_HTTPHEADER =&gt; array( 'Content-type: application/json', "X-API-KEY: {$apikey}“,))); $ 응답 = curl_exec ($ 채널); curl_close ($ 채널);}//경우 오류를 확인하십시오 ($ 응답 === 거짓) { $logEntry = "\nError:\n". "\n".date("Y-m-d H:i:s")." UTC \n" .$response; $logFileLocation = "log.txt"; $fileHandle = fopen($logFileLocation, 'a') or die("-1"); fwrite($fileHandle, $logEntry); fclose($fileHandle); echo '{"ERROR": "There was a problem with your API call"} '+ 다이 (curl_error ($ 채널));}//응답을 디코딩//$ 응답 데이터 = json_디코드 ($ 응답, TRUE);//반환AJAX 호출자에 대한 응답 $ 응답디코딩 = json_decode ($ 응답);//if (!isset ($ 응답디코딩)) { // $response = '{null} ';//} 에코 $ 응답;?&gt;</code></pre>
</section>

<script src="//learning-services-media.brightcove.com/doc-assets/node/18519-live-api-sample-create-live-job/create-job.js">

</script>

</article>